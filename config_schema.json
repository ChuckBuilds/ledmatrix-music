{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Music Player Plugin Configuration",
  "description": "Configuration schema for the music player plugin supporting Spotify and YouTube Music",
  "properties": {
    "enabled": {
      "type": "boolean",
      "description": "Enable or disable the music player plugin",
      "default": true
    },
    "display_duration": {
      "type": "number",
      "description": "How long to show the music display (10-300 seconds)",
      "minimum": 10,
      "maximum": 300,
      "default": 30
    },
    "preferred_source": {
      "type": "string",
      "description": "Preferred music source",
      "enum": ["spotify", "ytm"],
      "default": "spotify",
      "ui:widget": "radio",
      "x-widget": "select"
    },
    "polling_interval_seconds": {
      "type": "number",
      "description": "Polling interval for Spotify in seconds",
      "minimum": 1,
      "maximum": 60,
      "default": 2
    },
    "ytm_companion_url": {
      "type": "string",
      "description": "YouTube Music Companion server URL",
      "default": "http://localhost:9863",
      "pattern": "^https?://.*"
    },
    "music_priority_mode": {
      "type": "boolean",
      "description": "Enable music priority mode - when music is playing, it takes over the display",
      "default": false
    },
          "nothing_playing_timeout_seconds": {
            "type": "integer",
            "description": "When in priority mode, exit back to rotation if 'Nothing Playing' persists this long",
            "minimum": 5,
            "default": 10
          },
    "priority_duration_seconds": {
      "type": "integer",
      "description": "How long (in seconds) to show music when it starts playing in priority mode",
      "minimum": 10,
      "default": 30
    }
  },
  "required": ["enabled", "preferred_source"],
  "additionalProperties": false
}
